require=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({onm6mO:[function(require,module,exports){var ls=function(a){console.log(util.inspect(a,{depth:null}))};exports.setup=function(opts){var join={opts:opts};join.qs={};var qs=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var i=0;i<qs.length;i++){var q=qs[i].split("=");join.qs[q[0]]=decodeURIComponent(q[1])}join.vars={};join.vars.session=q.session||$.cookie("wet_session");join.vars.token=q.token;join.userapi="http://api.wetgenes.com:1408/genes/user/";join.template=$("<div></div>");join.fill=function(){opts.div.empty().append(join.template.find(".wetjoin_main").clone());if(join.qs.token){join.vars.token=join.qs.token;join.page("token");$(".wetjoin_main .wetjoin_submit").click()}else{join.page("session");$(".wetjoin_main .wetjoin_submit").click()}};join.page=function(pagename){$(".wetjoin").removeClass().addClass("wetjoin wetjoin_page_"+pagename);join.vars.token=$(".wetjoin_main .wetjoin_token").val()||join.vars.token;join.vars.name=$(".wetjoin_main .wetjoin_name").val()||join.vars.name;join.vars.email=$(".wetjoin_main .wetjoin_email").val()||join.vars.email;join.vars.pass=$(".wetjoin_main .wetjoin_pass").val()||join.vars.pass;join.vars.session=$(".wetjoin_main .wetjoin_session").val()||join.vars.session;$(".wetjoin_main .wetjoin_page").empty().append(join.template.find(".wetjoin_page_"+pagename).clone());$(".wetjoin_main .wetjoin_token").val(join.vars.token);$(".wetjoin_main .wetjoin_name").val(join.vars.name);$(".wetjoin_main .wetjoin_email").val(join.vars.email);$(".wetjoin_main .wetjoin_pass").val(join.vars.pass);$(".wetjoin_main .wetjoin_session").val(join.vars.session);$(".wetjoin_main .span_token").text(join.vars.token);$(".wetjoin_main .span_name").text(join.vars.name);$(".wetjoin_main .span_email").text(join.vars.email);if(join.qs.dumid){$(".wetjoin_main .span_website").text(join.qs.dumid.split("/")[2]||join.qs.dumid)}join.bind();return false};join.callback=function(cmd,dat){if(dat.error){$(".wetjoin_main .wetjoin_error").text(dat.error);if(cmd=="session"){join.page("login")}return}var cont=function(vars){var q="";for(n in vars){q=q+"&"+n+"="+vars[n]}if(join.qs["dumid"]){join.page("dumid")}else if(join.qs["continue"]){window.location.href=join.qs["continue"]+q}};if(cmd=="join"){join.page("join2")}else if(cmd=="login"){join.vars.session=dat.session;join.page("login2");$.cookie("wet_session",join.vars.session,{expires:7*7,path:"/"});cont({S:join.vars.session})}else if(cmd=="forgot"){join.page("forgot2")}else if(cmd=="session"){join.vars.name=dat.name;join.page("login2");cont({S:join.vars.session})}};join.submit=function(cmd){$(".wetjoin_main .wetjoin_error").text("");var token=$(".wetjoin_main .wetjoin_token").val();var name=$(".wetjoin_main .wetjoin_name").val();var email=$(".wetjoin_main .wetjoin_email").val();var pass=$(".wetjoin_main .wetjoin_pass").val();if(cmd=="join"){$.post(join.userapi+"create",{name:name,email:email,pass:pass},function(a,b,c){return join.callback("join",a,b,c)},"json");return false}else if(cmd=="login"){$("#form").submit();$.post(join.userapi+"login",{name:name,email:email,pass:pass},function(a,b,c){return join.callback("login",a,b,c)},"json");return true}else if(cmd=="forgot"){$.post(join.userapi+"update",{name:name,email:email,pass:pass},function(a,b,c){return join.callback("forgot",a,b,c)},"json");return false}else if(cmd=="token"){$.post(join.userapi+"token",{token:token},function(a,b,c){return join.callback("token",a,b,c)},"json");return false}else if(cmd=="session"){$.post(join.userapi+"session",{session:join.vars.session||""},function(a,b,c){return join.callback("session",a,b,c)},"json");return false}};join.dumid_confirm=function(confirm){if(join.qs["dumid"]){if(confirm){window.location.href=join.qs["dumid"]+"&confirm="+join.vars.session}else{window.location.href=join.qs["dumid"]+"&deny=1"}}else{join.page("login2")}return false};join.bind=function(){$(".wetjoin_main .wetjoin_header_join").off("click").on("click",function(){return join.page("join")});$(".wetjoin_main .wetjoin_header_login").off("click").on("click",function(){return join.page("login")});$(".wetjoin_main .wetjoin_header_forgot").off("click").on("click",function(){return join.page("forgot")});$(".wetjoin_main .wetjoin_submit_login").off("click").on("click",function(){return join.submit("login")});$(".wetjoin_main .wetjoin_submit_join").off("click").on("click",function(){return join.submit("join")});$(".wetjoin_main .wetjoin_submit_forgot").off("click").on("click",function(){return join.submit("forgot")});$(".wetjoin_main .wetjoin_submit_token").off("click").on("click",function(){return join.submit("token")});$(".wetjoin_main .wetjoin_submit_session").off("click").on("click",function(){return join.submit("session")});$(".wetjoin_main .wetjoin_confirm").off("click").on("click",function(){return join.dumid_confirm(true)});$(".wetjoin_main .wetjoin_deny").off("click").on("click",function(){return join.dumid_confirm(false)});$(".wetjoin_main input").off("keypress").on("keypress",function(e){if(e.which==13){$(this).blur();$(".wetjoin_main .wetjoin_submit").click();return false}})};join.template.load("template.html",join.fill);return join}},{}],"./js/join.js":[function(require,module,exports){module.exports=require("onm6mO")},{}]},{},[]);